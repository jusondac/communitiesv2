<% if Current.user %>
  <aside id="logo-sidebar" class="fixed top-0 left-0 z-40 w-64 h-screen pt-20 transition-transform -translate-x-full bg-white border-r border-gray-200 sm:translate-x-0 dark:bg-gray-800 dark:border-gray-700" aria-label="Sidebar">
    <div class="h-full px-3 pb-4 overflow-y-auto bg-white dark:bg-gray-800">
      <ul class="space-y-2 font-medium pt-5">
        <% @sidebar_menus.each do |menu| %>
          <% if menu[:submenu].present? %>
            <li>
              <button type="button" class="flex items-center w-full p-2 text-base text-gray-900 transition duration-75 rounded-lg group hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-700" aria-controls="dropdown-menu-<%= menu[:name] %>" data-collapse-toggle="dropdown-menu-<%= menu[:name] %>" aria-expanded="false">
                <%= menu[:icon].html_safe %>
                <span class="flex-1 ml-3 text-left whitespace-nowrap" sidebar-toggle-item=""><%= menu[:name] %></span>
                <svg sidebar-toggle-item="" class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                </svg>
              </button>
              <ul id="dropdown-menu-<%= menu[:name] %>" class="py-2 space-y-2 hidden">
                <% menu[:submenu].each do |submenu| %>
                  <li>
                    <a href="<%= submenu[:path] %>" class="flex items-center p-2 text-base text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-700">
                      <%= submenu[:name] %>
                    </a>
                  </li>
                <% end %>
              </ul>
            </li>
          <% else %>
            <li>
              <a href="<%= menu[:path] %>" class="flex items-center p-2 rounded-lg">
                <span class="text-white"><%= menu[:icon].html_safe %></span>
                <span class="ms-3"><%= menu[:name] %></span>
              </a>
            </li>
          <% end %>
        <% end %>
      </ul>
    </div>
  </aside>
<% end %>
